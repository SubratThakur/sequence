(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),s=a(4),l=a(5),c=a(7),m=a(6),p=a(8),d=a(2),u=a(114),g=(a(66),a(20)),y=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_URL||"http://localhost:3001",f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={game_name:"",game_password:"",username:"",password:"",selectedTab:"create_game",searchGameName:"",gamesFound:[],gamesFoundSelected:-1,joinGamePassword:"",joinGameUsername:"",joinGameUsernamePassword:"",formError:""},a.submitNewGame=function(e){e.preventDefault(),fetch("".concat(y,"/create_game"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_name:a.state.game_name,game_password:a.state.game_password,username:a.state.username,password:a.state.password})}).then(function(e){return e.json()}).then(function(e){localStorage.setItem("previous_game",JSON.stringify({game_name:a.state.game_name,game_password:a.state.game_password,username:a.state.username,password:a.state.password,game_id:e.game_id})),console.log(e),a.props.history.push("/play-game")})},a.joinGame=function(e){e.preventDefault(),console.log(a.state.gamesFound[a.state.gamesFoundSelected]._id),fetch("".concat(y,"/join_game"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:a.state.gamesFound[a.state.gamesFoundSelected]._id,game_password:a.state.joinGamePassword,username:a.state.joinGameUsername,password:a.state.joinGameUsernamePassword})}).then(function(e){return e.json()}).then(function(e){console.log(e),e.error?a.setState({formError:e.error},function(){"incorrect_game_pw"===a.state.formError?g.toast.error("Incorrect password for game.",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):"player_not_in_game"===a.state.formError?g.toast.error("You are not in this game.",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}):"incorrect_player_pw"===a.state.formError&&g.toast.error("Incorrect password for player.",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}):e.success&&(localStorage.setItem("previous_game",JSON.stringify({game_id:a.state.gamesFound[a.state.gamesFoundSelected]._id,game_name:a.state.gamesFound[a.state.gamesFoundSelected].auth.game_name,game_password:a.state.joinGamePassword,username:a.state.joinGameUsername,password:a.state.joinGameUsernamePassword})),console.log(e),a.props.history.push("/play-game"))})},a.keyPress=function(e){13===e.keyCode&&a.searchForGames()},a.searchForGames=function(){a.setState({gamesFound:[],gamesFoundSelected:-1}),fetch("".concat(y,"/search_for_games?game_name=").concat(a.state.searchGameName)).then(function(e){return e.json()}).then(function(e){a.setState({gamesFound:e.games})})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem("username")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"new-game-main"},r.a.createElement(g.ToastContainer,null),r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item cursor",onClick:function(){return e.setState({selectedTab:"create_game"})}},r.a.createElement("div",{className:"nav-link ".concat("create_game"===this.state.selectedTab?"active":"")},"Create Game")),r.a.createElement("li",{className:"nav-item cursor",onClick:function(){return e.setState({selectedTab:"join_game"})}},r.a.createElement("div",{className:"nav-link ".concat("join_game"===this.state.selectedTab?"active":"")},"Join Game"))),"create_game"===this.state.selectedTab&&r.a.createElement("div",{className:"create-game-input"},r.a.createElement("form",{onSubmit:this.submitNewGame},r.a.createElement("h5",null,"Create Game"),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Game name"),r.a.createElement("input",{required:!0,value:this.state.game_name,onChange:function(t){var a=t.target;return e.setState({game_name:a.value})},type:"text",className:"form-control",placeholder:"Enter game name"}),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Game password"),r.a.createElement("input",{required:!0,value:this.state.game_password,onChange:function(t){var a=t.target;return e.setState({game_password:a.value})},type:"password",className:"form-control mb-2",placeholder:"Password *can be simple"}),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Your name"),r.a.createElement("input",{required:!0,value:this.state.username,onChange:function(t){var a=t.target;return e.setState({username:a.value})},type:"text",className:"form-control mb-2",placeholder:"Your name"}),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Your password"),r.a.createElement("input",{required:!0,value:this.state.password,onChange:function(t){var a=t.target;return e.setState({password:a.value})},type:"password",className:"form-control mb-2",placeholder:"Password *can be simple"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create"))),"join_game"===this.state.selectedTab&&r.a.createElement("div",{className:"create-game-input"},r.a.createElement("h5",null,"Join Game"),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Search for games"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{required:!0,value:this.state.searchGameName,onChange:function(t){var a=t.target;return e.setState({searchGameName:a.value})},type:"text",className:"form-control",placeholder:"Search...",onKeyDown:this.keyPress}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{onClick:this.searchForGames,className:"btn btn-outline-secondary",type:"button"},r.a.createElement("i",{className:"fas fa-search"})))),this.state.gamesFound.length>0&&r.a.createElement("div",{className:"mt-3"},r.a.createElement("h5",null,"Games Found"),r.a.createElement("ul",{className:"list-group"},this.state.gamesFound.map(function(t,a){return r.a.createElement("li",{key:t._id,onClick:function(){e.state.gamesFoundSelected!==a&&e.setState({gamesFoundSelected:a,joinGamePassword:"",joinGameUsername:"",joinGameUsernamePassword:""})},className:"cursor list-group-item"},e.state.gamesFoundSelected!==a&&r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",null,t.auth.game_name),r.a.createElement("small",null,"Created by: ",t.player_info[0].username)),r.a.createElement("i",{className:"fas fa-arrow-circle-right"})),e.state.gamesFoundSelected===a&&r.a.createElement("div",{className:""},"INVITING_PLAYERS"===t.game_state&&r.a.createElement("div",null,r.a.createElement("small",null,"Game has not started. You can still join...")),r.a.createElement("form",{onSubmit:e.joinGame},r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Game name"),r.a.createElement("input",{required:!0,value:t.auth.game_name,type:"text",readOnly:!0,className:"form-control",placeholder:"Enter game name"}),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Game password"),r.a.createElement("input",{required:!0,value:e.state.joinGamePassword,onChange:function(t){var a=t.target;return e.setState({joinGamePassword:a.value})},type:"password",className:"form-control mb-2",placeholder:"Game password"}),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Your name"),r.a.createElement("input",{required:!0,value:e.state.joinGameUsername,onChange:function(t){var a=t.target;return e.setState({joinGameUsername:a.value})},type:"text",className:"form-control mb-2",placeholder:"Your name"}),r.a.createElement("small",{className:"form-text text-muted align-self-start"},"Your password"),r.a.createElement("input",{required:!0,value:e.state.joinGameUsernamePassword,onChange:function(t){var a=t.target;return e.setState({joinGameUsernamePassword:a.value})},type:"password",className:"form-control mb-2",placeholder:"Your game password"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Join"))))})))))}}]),t}(n.Component),_=Object(u.a)(Object(d.b)("store")(Object(d.c)(f))),h=(a(45),a(12)),b=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(this.props.moving?"player-moving":"player"," d-flex justify-content-center align-items-center"),style:{backgroundColor:this.props.moving?null:this.props.store.game.player_info[this.props.playerNumber].color}},this.props.moving&&r.a.createElement("i",{className:"fas fa-circle"}),!this.props.moving&&r.a.createElement("b",null,this.props.playerNumber+1))}}]),t}(n.Component),v=Object(d.b)("store")(Object(d.c)(b)),E=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t={};return this.props.top&&(t.boxShadow="0px 1px 0px 0px"),this.props.bottom&&(t.boxShadow="0px -1px 0px 0px"),r.a.createElement("div",{id:"".concat(this.props.store.game.board[this.props.position].name+"-drop-card-"+this.props.position),style:Object(h.a)({backgroundImage:"url(".concat(this.props.store.game.board[this.props.position].url,")")},t),className:"drop-zone game-tile item d-flex flex-wrap align-content-between zoom justify-content-between ".concat(this.props.store.game.board[this.props.position].name+"-drop-card-"+this.props.position),onMouseLeave:this.props.store.clearMousedOverTile,onMouseEnter:function(){return e.props.store.setMousedOverTile(e.props.position)}},this.props.store.game.player_info.filter(function(e){return"OUT"!==e.state}).filter(function(t){return t.position===e.props.position}).map(function(e,t){return r.a.createElement(v,{playerNumber:e.id,key:t})}),this.props.store.game.animated_players_move.moves.filter(function(t){return t===e.props.position}).map(function(e,t){return r.a.createElement(v,{key:t,moving:!0})}),this.props.top&&this.props.store.game.board[this.props.position].owned&&r.a.createElement("div",{style:{backgroundColor:this.props.store.game.player_info[this.props.store.game.board[this.props.position].player].color},className:"owned-square-top"}))}}]),t}(n.Component),T=Object(d.b)("store")(Object(d.c)(E)),N=a(14),x=a.n(N),P=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={};return this.props.store.game.board[this.props.position].name,this.props.top&&(t.boxShadow="0px 1px 0px 0px"),this.props.bottom&&(t.boxShadow="0px -1px 0px 0px"),r.a.createElement("div",{id:this.props.store.game.board[this.props.position].name+"-"+this.props.position,ref:this.props.store.game.board[this.props.position].name,style:Object(h.a)({backgroundImage:"url(".concat(this.props.store.game.board[this.props.position].url,")")},t),className:"drag-card item game-tile d-flex flex-wrap align-content-between justify-content-between ".concat(this.props.store.game.board[this.props.position].name),onMouseLeave:this.props.store.clearMousedOverTile,onMouseEnter:function(){return e.props.store.setMousedOverTile(e.props.position)}},this.props.store.game.player_info.filter(function(e){return"OUT"!==e.state}).filter(function(t){return t.position===e.props.position}).map(function(e,t){return r.a.createElement(v,{playerNumber:e.id,key:t})}),this.props.store.game.animated_players_move.moves.filter(function(t){return t===e.props.position}).map(function(e,t){return r.a.createElement(v,{key:t,moving:!0})}),this.props.top&&this.props.store.game.board[this.props.position].owned&&r.a.createElement("div",{style:{backgroundColor:this.props.store.game.player_info[this.props.store.game.board[this.props.position].player].color},className:"owned-square-top"}))}}]),t}(n.Component),O=Object(d.b)("store")(Object(d.c)(P)),j=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item cursor",onClick:function(){return e.props.selectTab({selectedTab:"my_info"})}},r.a.createElement("div",{className:"nav-link ".concat("my_info"===this.props.selectedTab?"active":"")},"My Info")),r.a.createElement("li",{className:"nav-item dropdown cursor",onMouseEnter:function(){return e.props.changeDropDown({dropdownExpanded:!0})},onMouseLeave:function(){return e.props.changeDropDown({dropdownExpanded:!1})}},r.a.createElement("div",{className:"nav-link dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},"Players"),r.a.createElement("div",{className:"dropdown-menu ".concat(this.props.dropdownExpanded?"show":"")},1===this.props.store.game.player_info.filter(function(e){return"OUT"!==e.state}).length&&r.a.createElement("div",{className:"dropdown-item"},"No Players"),this.props.store.game.player_info.filter(function(e){return"OUT"!==e.state}).length>1&&this.props.store.game.player_info.filter(function(e){return"OUT"!==e.state}).map(function(e,t){return Object(h.a)({},e,{index:t})}).filter(function(t){return t.username!==e.props.store.gameAuthInfo.username}).map(function(t){return r.a.createElement("div",{onClick:function(){return e.props.selectTab({selectedTab:"player_info",selectedPlayer:t.id,dropdownExpanded:!1})},key:t.id,className:"dropdown-item"},t.username," - (",t.id+1,")")}))),r.a.createElement("li",{className:"nav-item cursor float-right pos-abs right0",onClick:function(){return e.props.store.toggle}},r.a.createElement("button",{className:"btn",onClick:this.props.store.toggle},r.a.createElement("i",{className:"fa fa-home"})," Close")))}}]),t}(n.Component),w=Object(d.b)("store")(Object(d.c)(j)),k=a(60),S=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(k.a)(this.props.store.getPlayer.dice,2),t=e[0],a=e[1];return r.a.createElement("div",{className:"info-tab d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row justify-content-around"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Username: "),r.a.createElement("span",{className:"flex-fill"},this.props.store.getPlayer.username)),r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Colour: "),r.a.createElement("span",{className:"flex-fill"},this.props.store.getPlayer.colourcode)))),r.a.createElement("div",{className:"d-flex flex-row justify-content-center align-items-center dice-content"},1===t&&r.a.createElement("i",{className:"fas fa-dice-one"}),2===t&&r.a.createElement("i",{className:"fas fa-dice-two"}),3===t&&r.a.createElement("i",{className:"fas fa-dice-three"}),4===t&&r.a.createElement("i",{className:"fas fa-dice-four"}),5===t&&r.a.createElement("i",{className:"fas fa-dice-five"}),6===t&&r.a.createElement("i",{className:"fas fa-dice-six"}),r.a.createElement("div",{className:"space-between-dice"}),1===a&&r.a.createElement("i",{className:"fas fa-dice-one"}),2===a&&r.a.createElement("i",{className:"fas fa-dice-two"}),3===a&&r.a.createElement("i",{className:"fas fa-dice-three"}),4===a&&r.a.createElement("i",{className:"fas fa-dice-four"}),5===a&&r.a.createElement("i",{className:"fas fa-dice-five"}),6===a&&r.a.createElement("i",{className:"fas fa-dice-six"})))}}]),t}(n.Component),I=Object(d.b)("store")(Object(d.c)(S)),C=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.refs.logs;n.scrollTop=n.scrollHeight}},{key:"componentDidMount",value:function(){var e=this.refs.logs;e.scrollTop=e.scrollHeight}},{key:"render",value:function(){return r.a.createElement("div",{ref:"logs",className:"logs-tab"},0===this.props.store.game.logs.length&&r.a.createElement("div",null,"No actions yet..."),this.props.store.game.logs.map(function(e,t){var a=new Date(e.time).toLocaleString();return a=a.slice(0,-6)+a.slice(-3,a.length),r.a.createElement("div",{key:t},a,": ",e.log)}))}}]),t}(n.Component),A=Object(d.b)("store")(Object(d.c)(C)),R=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"ENDED"===this.props.store.game.game_state?r.a.createElement("div",{className:"actions-tab d-flex flex-row justify-content-center align-items-center"},"Game has ended"):"INVITING_PLAYERS"===this.props.store.game.game_state&&0===this.props.store.playerIndex?r.a.createElement("div",{className:"actions-tab d-flex flex-row justify-content-center align-items-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.store.startGame},"Start Game")):r.a.createElement("div",{className:"actions-tab d-flex flex-row justify-content-center align-items-center"},"OUT"!==this.props.store.playerState&&"START_TURN"===this.props.store.playerState&&this.props.store.getPlayer.jail_turns<3&&r.a.createElement("button",{type:"button",onClick:this.props.store.startTurn,className:"btn btn-primary"},"Roll Dice"),"NOT_TURN"===this.props.store.playerState&&r.a.createElement("div",null,this.props.store.currentPlayerTurn.username," is taking their turn."),"UTILITY_CHANCE_CARD"===this.props.store.playerState&&r.a.createElement("button",{type:"button",onClick:this.props.store.utilityChanceCardPayment,className:"btn btn-primary"},"Roll to See how much to Pay"),this.props.store.getPlayer.jail_state&&"START_TURN"===this.props.store.playerState&&r.a.createElement("button",{type:"button",onClick:this.props.store.payOutOfJail,className:"btn btn-primary"},"pay 50"),("BUY_TILE"===this.props.store.playerState||"BUY_TILE_NO_MONEY"===this.props.store.playerState)&&r.a.createElement("div",{className:"accept-reject-tile-buy-div d-flex justify-content-center"},r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{disabled:"BUY_TILE_NO_MONEY"===this.props.store.playerState,type:"button",className:"btn btn-primary buy-tile-button text-center",onClick:this.props.store.buyTile},"Buy Tile"),r.a.createElement("button",{type:"button",className:"btn btn-primary reject-buy-tile-button",onClick:this.props.store.rejectBuyTile},"Reject Buy"))),"INCOME_TAX"===this.props.store.playerState&&r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.store.payPercentTax},"Pay 10%"),r.a.createElement("button",{type:"button",className:"btn btn-primary pay-flat-tax-button",onClick:this.props.store.payFlatTax},"Pay $200")),"END_OF_TURN"===this.props.store.playerState&&r.a.createElement("button",{disabled:this.props.store.getPlayer.money<0,type:"button",onClick:this.props.store.endTurn,className:"btn btn-primary"},"End Turn"),"END_OF_TURN"===this.props.store.playerState&&this.props.store.getPlayer.money<0&&r.a.createElement("button",{type:"button",onClick:this.props.store.giveUp,className:"btn btn-primary"},"Give Up"))}}]),t}(n.Component),U=Object(d.b)("store")(Object(d.c)(R)),D=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-row justify-content-around"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Username: "),r.a.createElement("span",{className:"flex-fill"},this.props.store.game.player_info[this.props.player].username," - (",this.props.player+1,")")),r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Current Tile: "),r.a.createElement("span",{className:"flex-fill"},this.props.store.game.board[this.props.store.game.player_info[this.props.player].position].name)),r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Out Of Jail: "),r.a.createElement("span",{className:"flex-fill"},"Nope"))),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Cash: "),r.a.createElement("span",{className:"flex-fill"},"$",this.props.store.game.player_info[this.props.player].money)),r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Net Worth: "),r.a.createElement("span",{className:"flex-fill"},"$",this.props.store.netWorthOfPlayer(this.props.player))),r.a.createElement("div",{className:"d-flex flex-row info-tab-row"},r.a.createElement("span",{className:"info-tab-label"},"Liquid Worth: "),r.a.createElement("span",{className:"flex-fill"},"$",this.props.store.liquidWorthofPlayer(this.props.player))))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{onClick:function(){return e.props.selectTab({selectedTab:"player_trade"})},type:"button",className:"btn btn-primary",disabled:"NOT_TURN"===this.props.store.getPlayer.state},"Trade")),r.a.createElement("div",{className:"other-players-properties-tab d-flex flex-row justify-content-around other-players-properties-table"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",{className:"text-center",scope:"col"},"Name"),r.a.createElement("th",{className:"text-center",scope:"col"},"Rent"),r.a.createElement("th",{className:"text-center",scope:"col"},"Upgrades"),r.a.createElement("th",{className:"text-center",scope:"col"},"Mortgaged?"))),r.a.createElement("tbody",{className:""},this.props.store.playersProperties(this.props.player).map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},r.a.createElement("div",{className:"my-properties-pic",style:{backgroundImage:"url(".concat(e.url,")")}})),r.a.createElement("td",{className:"text-center"},e.name),r.a.createElement("td",{className:"text-center"},e.calculatedRent===parseInt(e.calculatedRent,10)?"$".concat(e.calculatedRent):e.calculatedRent),e.upgrade?r.a.createElement("td",{className:"text-center upgrade-col"},r.a.createElement("div",{className:"d-flex upgrade-bar-other-player justify-content-center"},r.a.createElement("div",{className:"bar-component bar-component-left ".concat(e.upgrades>0?"bar-component-filled":"")}),r.a.createElement("div",{className:"bar-component ".concat(e.upgrades>1?"bar-component-filled":"")}),r.a.createElement("div",{className:"bar-component ".concat(e.upgrades>2?"bar-component-filled":"")}),r.a.createElement("div",{className:"bar-component ".concat(e.upgrades>3?"bar-component-filled":"")}),r.a.createElement("div",{className:"bar-component ".concat(e.upgrades>4?"bar-component-filled":"")}))):r.a.createElement("td",null),r.a.createElement("td",{className:"text-center"},r.a.createElement("input",{disabled:!0,checked:e.mortgaged,type:"checkbox",className:"double"})))})))))}}]),t}(n.Component),G=Object(d.b)("store")(Object(d.c)(D)),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.store.game.board[this.props.store.mousedOverTile];this.props.store.game.player_info.map(function(e,t){return Object(h.a)({},e,{index:t})}).filter(function(e){return"OUT"!==e.state}).filter(function(t){return t.position===e.props.store.mousedOverTile});return"rr"===t.type||"utility"===t.type?this.props.store.game.board.filter(function(t,a){return t.type===e.props.store.game.board[e.props.store.mousedOverTile].type&&a!==e.props.store.mousedOverTile}):"property"===t.type&&this.props.store.game.board.filter(function(t,a){return t.group===e.props.store.game.board[e.props.store.mousedOverTile].group&&a!==e.props.store.mousedOverTile}),r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center tile-info-container"},r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},r.a.createElement("div",{className:"tile-info-image-div",style:{backgroundImage:"url(".concat(t.url,")")}}),r.a.createElement("div",{className:"tile-info-name"},t.name))))}}]),t}(n.Component),L=Object(d.b)("store")(Object(d.c)(M)),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dropdownExpanded:!1,selectedTab:"my_info",selectedPlayer:1},a.selectTab=function(e){a.setState(e)},a.changeDropDown=function(e){a.setState(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-view desktop-view ".concat(this.props.store.show?"display-none":"")},this.props.store.game&&"NOT_STARTED"!==this.props.store.game.game_state&&r.a.createElement("div",{className:"main-view-content"},null!==this.props.store.mousedOverTile&&r.a.createElement(L,null),null===this.props.store.mousedOverTile&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{dropdownExpanded:this.state.dropdownExpanded,changeDropDown:this.changeDropDown,selectTab:this.selectTab,selectedTab:this.state.selectedTab}),"my_info"===this.state.selectedTab&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(U,null),r.a.createElement(A,null)),"player_info"===this.state.selectedTab&&r.a.createElement(G,{selectTab:this.selectTab,player:this.state.selectedPlayer}))))}}]),t}(n.Component),J=Object(d.b)("store")(Object(d.c)(F)),Y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.refs.logs;n.scrollTop=n.scrollHeight}},{key:"componentDidMount",value:function(){var e=this.refs.logs;e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:"logs",className:"chat-area chat-area-width"},0===this.props.store.game.logs.length&&r.a.createElement("div",null,"No actions yet...",r.a.createElement("button",{className:"btn float-right",onClick:this.props.store.toggle},r.a.createElement("i",{className:"fa fa-bars"}))),this.props.store.game.logs.map(function(t,a){var n=new Date(t.time).toLocaleString();return n=n.slice(0,-6)+n.slice(-3,n.length),r.a.createElement("div",{key:a},r.a.createElement("span",null,n,": ",t.log),r.a.createElement("button",{className:"btn float-right",onClick:e.props.store.toggle},r.a.createElement("i",{className:"fa fa-bars"})))}))}}]),t}(n.Component),B=Object(d.b)("store")(Object(d.c)(Y)),q=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("previous_game");e?(e=JSON.parse(e),this.props.store.setGameAuthInfo(e),this.props.store.connectToGame()):this.props.history.push("/start")}},{key:"render",value:function(){return this.props.store.inGame?r.a.createElement("div",{className:"d-flex flex-column main-box"},r.a.createElement(J,null),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:1}),r.a.createElement(T,{top:!0,position:2}),r.a.createElement(T,{top:!0,position:3}),r.a.createElement(T,{top:!0,position:4}),r.a.createElement(T,{top:!0,position:5}),r.a.createElement(T,{top:!0,position:6}),r.a.createElement(T,{top:!0,position:7}),r.a.createElement(T,{top:!0,position:8}),r.a.createElement(T,{top:!0,position:9}),r.a.createElement(T,{top:!0,position:10})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:11}),r.a.createElement(T,{top:!0,position:12}),r.a.createElement(T,{top:!0,position:13}),r.a.createElement(T,{top:!0,position:14}),r.a.createElement(T,{top:!0,position:15}),r.a.createElement(T,{top:!0,position:16}),r.a.createElement(T,{top:!0,position:17}),r.a.createElement(T,{top:!0,position:18}),r.a.createElement(T,{top:!0,position:19}),r.a.createElement(T,{top:!0,position:20})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:21}),r.a.createElement(T,{top:!0,position:22}),r.a.createElement(T,{top:!0,position:23}),r.a.createElement(T,{top:!0,position:24}),r.a.createElement(T,{top:!0,position:25}),r.a.createElement(T,{top:!0,position:26}),r.a.createElement(T,{top:!0,position:27}),r.a.createElement(T,{top:!0,position:28}),r.a.createElement(T,{top:!0,position:29}),r.a.createElement(T,{top:!0,position:30})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:31}),r.a.createElement(T,{top:!0,position:32}),r.a.createElement(T,{top:!0,position:33}),r.a.createElement(T,{top:!0,position:34}),r.a.createElement(T,{top:!0,position:35}),r.a.createElement(T,{top:!0,position:36}),r.a.createElement(T,{top:!0,position:37}),r.a.createElement(T,{top:!0,position:38}),r.a.createElement(T,{top:!0,position:39}),r.a.createElement(T,{top:!0,position:40})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:41}),r.a.createElement(T,{top:!0,position:42}),r.a.createElement(T,{top:!0,position:43}),r.a.createElement(T,{top:!0,position:44}),r.a.createElement(T,{top:!0,position:45}),r.a.createElement(T,{top:!0,position:46}),r.a.createElement(T,{top:!0,position:47}),r.a.createElement(T,{top:!0,position:48}),r.a.createElement(T,{top:!0,position:49}),r.a.createElement(T,{top:!0,position:50})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:51}),r.a.createElement(T,{top:!0,position:52}),r.a.createElement(T,{top:!0,position:53}),r.a.createElement(T,{top:!0,position:54}),r.a.createElement(T,{top:!0,position:55}),r.a.createElement(T,{top:!0,position:56}),r.a.createElement(T,{top:!0,position:57}),r.a.createElement(T,{top:!0,position:58}),r.a.createElement(T,{top:!0,position:59}),r.a.createElement(T,{top:!0,position:60})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:61}),r.a.createElement(T,{top:!0,position:62}),r.a.createElement(T,{top:!0,position:63}),r.a.createElement(T,{top:!0,position:64}),r.a.createElement(T,{top:!0,position:65}),r.a.createElement(T,{top:!0,position:66}),r.a.createElement(T,{top:!0,position:67}),r.a.createElement(T,{top:!0,position:68}),r.a.createElement(T,{top:!0,position:69}),r.a.createElement(T,{top:!0,position:70})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:71}),r.a.createElement(T,{top:!0,position:72}),r.a.createElement(T,{top:!0,position:73}),r.a.createElement(T,{top:!0,position:74}),r.a.createElement(T,{top:!0,position:75}),r.a.createElement(T,{top:!0,position:76}),r.a.createElement(T,{top:!0,position:77}),r.a.createElement(T,{top:!0,position:78}),r.a.createElement(T,{top:!0,position:79}),r.a.createElement(T,{top:!0,position:80})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:81}),r.a.createElement(T,{top:!0,position:82}),r.a.createElement(T,{top:!0,position:83}),r.a.createElement(T,{top:!0,position:84}),r.a.createElement(T,{top:!0,position:85}),r.a.createElement(T,{top:!0,position:86}),r.a.createElement(T,{top:!0,position:87}),r.a.createElement(T,{top:!0,position:88}),r.a.createElement(T,{top:!0,position:89}),r.a.createElement(T,{top:!0,position:90})),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(T,{position:91}),r.a.createElement(T,{top:!0,position:92}),r.a.createElement(T,{top:!0,position:93}),r.a.createElement(T,{top:!0,position:94}),r.a.createElement(T,{top:!0,position:95}),r.a.createElement(T,{top:!0,position:96}),r.a.createElement(T,{top:!0,position:97}),r.a.createElement(T,{top:!0,position:98}),r.a.createElement(T,{top:!0,position:99}),r.a.createElement(T,{top:!0,position:100})),r.a.createElement(B,null),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(O,{top:!0,position:92}),r.a.createElement(O,{top:!0,position:94}),r.a.createElement(O,{top:!0,position:96}),r.a.createElement(O,{top:!0,position:98}),r.a.createElement(O,{top:!0,position:99}))):r.a.createElement("div",{style:{margin:"auto",textAlign:"center",fontSize:80}},r.a.createElement("i",{className:"fas fa-spinner  fa-spin"}))}}]),t}(n.Component),W=Object(u.a)(Object(d.b)("store")(Object(d.c)(q))),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedTab:a.props.history.location.pathname},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main d-flex flex-column"},r.a.createElement(W,null))}}]),t}(n.Component),$=Object(u.a)(Object(d.b)("store")(Object(d.c)(H))),X=a(112),V=a(115),z=a(111),K=function(){return r.a.createElement(X.a,{to:"/start"})},Q=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(V.a,null,r.a.createElement(z.a,{exact:!0,path:"/play-game",component:$}),r.a.createElement(z.a,{exact:!0,path:"/start",component:_}),r.a.createElement(z.a,{path:"/",component:K}))}}]),t}(n.Component),Z=a(113),ee=a(1),te=a(59),ae=a.n(te);Object(ee.f)({enforceActions:"observed"});var ne=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_URL?Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_URL:"http://localhost:3001",re=function(){function e(){var t=this;Object(s.a)(this,e),this.socket=ae()("".concat(ne,"/"),{forceNew:!0}),this.mousedOverTile=null,this.game={},this.show=!1,this.firstTime=!0,this.selectedTab="my_info",this.gameAuthInfo={},this.connectToGame=function(){t.socket.emit("join_game",t.gameAuthInfo)},this.setGameAuthInfo=function(e){t.gameAuthInfo=e},this.updatePlayerJailRolls=function(e){t.socket.emit("update_player_jail_rolls",{game_id:t.gameAuthInfo.game_id,jail_turns:t.game.player_info[e].jail_turns,player_index:e})},this.startTurn=function(){if(t.playerJailState){var e=t.playerIndex;t.setPlayerState("ROLLING"),t.rollDice(),t.getPlayer.dice[0]===t.getPlayer.dice[1]?(t.setJailState(!1),t.syncPlayerJailState(),t.game.player_info[e].jail_turns=0):t.game.player_info[e].jail_turns+=1,t.updatePlayerJailRolls(e),t.setPlayerState("END_OF_TURN"),t.syncPlayerState()}else t.setPlayerState("ROLLING"),t.rollDice(),t.movePlayer(),t.checkTile()},this.updatePlayerMoney=function(e){t.socket.emit("update_player_money",{game_id:t.gameAuthInfo.game_id,player_money:t.game.player_info[e].money,player_index:e})},this.getState=function(){return t.state},this.toggle=function(){t.firstTime&&t.enableDragDropCard(),t.firstTime=!1,t.show=!t.show},this.payOutOfJail=function(){var e=t.playerIndex;t.game.player_info[e].money-=50,t.updatePlayerMoney(e),t.setJailState(!1),t.syncPlayerJailState(),t.game.player_info[e].jail_turns=0,t.updatePlayerJailRolls(e),3===t.getPlayer.jail_turns?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()},this.movePlayerDev=function(e){var a=t.playerIndex;t.game.animated_players_move={player:-1,moves:[]};for(var n=t.game.player_info[a].position;t.circularAdd(n,0,39)!==t.circularAdd(e,0,39);)t.game.animated_players_move.moves.push(t.circularAdd(n,1,39)),n+=1;t.socket.emit("move_player_animation",{game_id:t.gameAuthInfo.game_id,animated_players_move:t.game.animated_players_move});var r=setInterval(function(){Object(ee.n)(function(){t.game.animated_players_move.moves.shift(),0===t.game.animated_players_move.moves.length&&clearInterval(r)})},200);t.game.player_info[a].position=e},this.movePlayerToTile=function(e){var a=t.playerIndex;t.game.animated_players_move={player:-1,moves:[]};for(var n=t.game.player_info[a].position;t.circularAdd(n,0,39)!==t.circularAdd(e,0,39);)t.game.animated_players_move.moves.push(t.circularAdd(n,1,39)),n+=1;t.socket.emit("move_player_animation",{game_id:t.gameAuthInfo.game_id,animated_players_move:t.game.animated_players_move});var r=setInterval(function(){Object(ee.n)(function(){t.game.animated_players_move.moves.shift(),0===t.game.animated_players_move.moves.length&&clearInterval(r)})},100);t.game.player_info[a].position=e,t.socket.emit("move",{game_id:t.gameAuthInfo.game_id,new_position:e,player_index:a})},this.devMoveHere=function(e){t.setPlayerState("ROLLING"),t.rollDice(),t.movePlayerDev(e),t.checkTile()},this.mergeTradeData=function(e){var a=t.game.trades[e];t.game.player_info[a.initiating_player].money-=parseInt(a.given_money),t.game.player_info[a.initiating_player].money+=parseInt(a.taken_money),t.game.player_info[a.trading_player].money+=parseInt(a.given_money),t.game.player_info[a.trading_player].money-=parseInt(a.taken_money),a.given_properties.forEach(function(e){t.game.board[e].player=a.trading_player}),a.taken_properties.forEach(function(e){t.game.board[e].player=a.initiating_player})},this.acceptTrade=function(e){var a=t.game.trades[e];t.mergeTradeData(e),t.game.trades[e].state="ACCEPTED",t.addToLog("".concat(t.game.player_info[a.trading_player].username," accepted a trade from ").concat(t.game.player_info[a.initiating_player].username)),t.socket.emit("accept_trade",{game_id:t.gameAuthInfo.game_id,trade_index:e,trade:a})},this.rejectTrade=function(e){var a=t.game.trades[e];t.game.trades[e].state="REJECTED",t.addToLog("".concat(t.game.player_info[a.trading_player].username," rejected a trade from ").concat(t.game.player_info[a.initiating_player].username)),t.socket.emit("reject_trade",{game_id:t.gameAuthInfo.game_id,trade_index:e})},this.cancelTrade=function(e){var a=t.game.trades[e];t.game.trades[e].state="CANCELED",t.addToLog("".concat(t.game.player_info[a.initiating_player].username," canceled a trade to ").concat(t.game.player_info[a.trading_player].username)),t.socket.emit("cancel_trade",{game_id:t.gameAuthInfo.game_id,trade_index:e})},this.giveUp=function(){var e=t.playerIndex;t.addToLog("".concat(t.game.player_info[e].username," gave up."));var a=t.findNextPlayerInGame(e);if(t.game.player_info[e].state="OUT",1===t.game.player_info.filter(function(e){return"OUT"!==e.state}).length){var n=t.game.player_info.find(function(e){return"OUT"!==e.state});t.socket.emit("end_game",{game_id:t.gameAuthInfo.game_id,winning_player:n}),t.game.game_state="ENDED"}else{var r=t.game.board.map(function(t){return t.player===e?Object(h.a)({},t,{owned:!1,player:null,mortgaged:!1,upgrades:0}):t});t.game.board=r,t.socket.emit("player_gives_up",{game_id:t.gameAuthInfo.game_id,player_index:e,next_player:a,new_board:r})}},this.createTrade=function(e,a,n,r,o){t.selectedTab="my_info";var i=t.playerIndex,s={initiating_player:i,trading_player:e,given_properties:a,taken_properties:n,given_money:r,taken_money:o,state:"PROPOSED"};t.addToLog("".concat(t.game.player_info[i].username," initiated a trade with ").concat(t.game.player_info[e].username)),t.game.trades.push(s),t.socket.emit("create_trade",{game_id:t.gameAuthInfo.game_id,trade:s})},this.payPlayer=function(){var e=t.playerTile.player,a=t.playerIndex,n=t.calcRentCostTile(t.game.player_info[a].position,!1);t.addToLog("".concat(t.getPlayer.username," paid ").concat(t.game.player_info[e].username," $").concat(n," for visiting ").concat(t.playerTile.name,".")),t.game.player_info[e].money+=n*t.getPlayer.pay_multiplier,t.game.player_info[a].money-=n*t.getPlayer.pay_multiplier,t.game.player_info[a].pay_multiplier=1,t.socket.emit("process_transaction",{game_id:t.gameAuthInfo.game_id,giving_player:a,receiving_player:e,giving_player_money:t.game.player_info[a].money,receiving_player_money:t.game.player_info[e].money})},this.addToLog=function(e){var a={log:e,time:new Date};t.game.logs.push(a),t.socket.emit("add_log",{game_id:t.gameAuthInfo.game_id,log:a})},this.checkTile=function(){var e=t.game.board[t.getPlayer.position],a=t.playerIndex;t.getPlayer.dice[0]!==t.getPlayer.dice[1]&&(t.game.player_info[a].doubles_rolled=0,t.updatePlayerDoublesRolled(a)),t.getPlayer.dice[0]===t.getPlayer.dice[1]&&t.checkAndUpdateDoublesRolled(a),t.getPlayer.jail_state||(t.addToLog("".concat(t.getPlayer.username," rolled a ").concat(t.diceSum," (").concat(t.getPlayer.dice[0]," - ").concat(t.getPlayer.dice[1],") and is now at ").concat(e.name,".")),t.checkIfPlayerPassedGo(),e.owned&&e.player!==a?(t.payPlayer(),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN")):e.owned||"property"!==e.type&&"rr"!==e.type&&"utility"!==e.type?"lux-tax"===e.type?t.payLuxuryTax():"chance"===e.type||"chest"===e.type?t.handleModifierCard(e.type):"income-tax"===e.type?t.setPlayerState("INCOME_TAX"):"go-to-jail"===e.type?(t.game.player_info[a].doubles_rolled=0,t.updatePlayerDoublesRolled(a),t.goToJail(a),t.addToLog("".concat(t.getPlayer.username," is going to jail :("))):t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"):t.getPlayer.money<t.game.board[t.getPlayer.position].cost?t.setPlayerState("BUY_TILE_NO_MONEY"):t.setPlayerState("BUY_TILE"),t.syncPlayerState())},this.utilityChanceCardPayment=function(){var e=[Math.floor(Math.random()*Math.floor(6))+1,Math.floor(Math.random()*Math.floor(6))+1],a=10*(e[0]+e[1]),n=t.playerTile.player,r=t.playerIndex;t.game.player_info[n].money+=a,t.game.player_info[r].money-=a,t.socket.emit("process_transaction",{game_id:t.gameAuthInfo.game_id,giving_player:r,receiving_player:n,giving_player_money:t.game.player_info[r].money,receiving_player_money:t.game.player_info[n].money}),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()},this.handleModifierCard=function(e){var a=t.playerIndex,n=0,r={};if("chance"===e?(n=t.game.last_chance_card+1===t.game.chance.length?0:t.game.last_chance_card+1,t.game.last_chance_card=n,r=t.game.chance[n]):(n=t.game.last_chest_card+1===t.game.chest.length?0:t.game.last_chest_card+1,t.game.last_chest_card=n,r=t.game.chest[n]),t.addToLog("".concat(t.getPlayer.username," picked a card: ").concat(r.name)),"simple_move"===r.type)0===r.position?t.playerPassedGoMoneyIncrease():t.getPlayer.position>r.position&&t.playerPassedGoMoneyIncrease(),t.movePlayerToTile(r.position),t.checkTile();else if("nearest_utility"===r.type){var o=t.findNearestType("utility");t.getPlayer.position>o&&t.playerPassedGoMoneyIncrease(),t.movePlayerToTile(o),t.game.board[o].owned&&t.game.board[o].player!==a?(t.setPlayerState("UTILITY_CHANCE_CARD"),t.syncPlayerState()):t.checkTile()}else if("nearest_rr"===r.type){t.game.player_info[a].pay_multiplier=2;var i=t.findNearestType("rr");t.getPlayer.position>i&&t.playerPassedGoMoneyIncrease(),t.movePlayerToTile(i),t.checkTile()}else"simple_bank_pay"===r.type?(t.game.player_info[a].money+=r.amount,t.updatePlayerMoney(a),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()):"move_amount"===r.type?(t.movePlayerToTile(t.getPlayer.position+r.amount),t.checkTile()):"go_to_jail"===r.type?t.goToJail(a):"pay_all_players"===r.type&&(t.payAllPlayers(r.amount),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState());"chance"===e?t.socket.emit("increase_chance_card",{game_id:t.gameAuthInfo.game_id,last_chance_card:n,player_index:a,pay_multiplier:t.game.player_info[a].pay_multiplier}):t.socket.emit("increase_chest_card",{game_id:t.gameAuthInfo.game_id,last_chest_card:n,player_index:a,pay_multiplier:t.game.player_info[a].pay_multiplier})},this.payAllPlayers=function(e){var a=t.playerIndex;t.game.player_info[a].money=t.game.player_info[a].money-e*(t.game.player_info.filter(function(e){return"OUT"!==e.state}).length-1),t.game.player_info.forEach(function(t,n){n!==a&&(t.money+=e)}),t.socket.emit("pay_all_players",{game_id:t.gameAuthInfo.game_id,player_index:a,amount:e})},this.findNearestType=function(e){var a=t.game.board.findIndex(function(a,n){return!(n<t.getPlayer.position)&&a.type===e});return-1===a&&(a=t.game.board.findIndex(function(t){return t.type===e})),a},this.payLuxuryTax=function(){var e=t.playerIndex;t.game.player_info[e].money-=75,t.updatePlayerMoney(e),t.addToLog("".concat(t.getPlayer.username," paid $75 for tax evasion :O")),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()},this.payPercentTax=function(){var e=t.playerIndex;t.game.player_info[e].money-=Math.ceil(.1*t.netWorth),t.updatePlayerMoney(e),t.addToLog("".concat(t.getPlayer.username," chose to pay 10% of their net worth (").concat(Math.ceil(.1*t.netWorth),").")),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()},this.payFlatTax=function(){var e=t.playerIndex;t.game.player_info[e].money-=200,t.updatePlayerMoney(e),t.addToLog("".concat(t.getPlayer.username," chose to pay $200 dollars.")),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()},this.goToJail=function(e){t.game.player_info[e].position=10,t.socket.emit("move",{game_id:t.gameAuthInfo.game_id,new_position:10,player_index:e}),t.setJailState(!0),t.syncPlayerJailState(),t.setPlayerState("END_OF_TURN")},this.checkAndUpdateDoublesRolled=function(e){t.game.player_info[e].doubles_rolled+=1,3===t.game.player_info[e].doubles_rolled&&(t.game.player_info[e].doubles_rolled=0,t.goToJail(e)),t.updatePlayerDoublesRolled(e)},this.updatePlayerDoublesRolled=function(e){t.socket.emit("update_players_doubles",{game_id:t.gameAuthInfo.game_id,player_index:e,doubles_rolled:t.getPlayer.doubles_rolled})},this.playerPassedGoMoneyIncrease=function(){var e=t.playerIndex;t.game.player_info[e].money+=200,t.addToLog("".concat(t.getPlayer.username," passed GO and earned $200!")),t.socket.emit("update_player_money",{game_id:t.gameAuthInfo.game_id,player_money:t.game.player_info[e].money,player_index:e})},this.checkIfPlayerPassedGo=function(){t.getPlayer.position-t.diceSum<0&&t.playerPassedGoMoneyIncrease()},this.syncPlayerJailState=function(){var e=t.playerIndex;t.socket.emit("sync_player_jail_state",{game_id:t.gameAuthInfo.game_id,player_index:e,jail_state:t.playerJailState})},this.syncPlayerState=function(){var e=t.playerIndex;t.socket.emit("sync_player_state",{game_id:t.gameAuthInfo.game_id,player_index:e,state:t.playerState})},this.buyTile=function(){var e=t.playerIndex;t.game.player_info[e].money-=t.game.board[t.getPlayer.position].cost,t.game.board[t.getPlayer.position].owned=!0,t.game.board[t.getPlayer.position].player=e,t.addToLog("".concat(t.getPlayer.username," bought ").concat(t.playerTile.name," for $").concat(t.playerTile.cost,".")),t.socket.emit("buy_tile",{game_id:t.gameAuthInfo.game_id,tile_index:t.getPlayer.position,tile_bought:t.game.board[t.getPlayer.position],player_money:t.game.player_info[e].money,player_index:e}),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.syncPlayerState()},this.rejectBuyTile=function(){t.addToLog("".concat(t.getPlayer.username," refused to buy ").concat(t.playerTile.name,". Going to auction.")),t.getPlayer.dice[0]===t.getPlayer.dice[1]?t.setPlayerState("START_TURN"):t.setPlayerState("END_OF_TURN"),t.socket.emit("initiate_auction",{game_id:t.gameAuthInfo.game_id,tile:t.getPlayer.position}),t.game.auction=!0,t.game.auction_tile=t.getPlayer.position,t.syncPlayerState()},this.endTurn=function(){t.refreshCurrentProposingTrade(),t.setPlayerState("NOT_TURN");var e=t.playerIndex,a=t.findNextPlayerInGame(e);t.game.player_info[a].state="START_TURN",t.socket.emit("end_turn",{game_id:t.gameAuthInfo.game_id,next_player:a,old_player:e})},this.enableDragDropCard=function(){for(var e=1;e<100;e++)t.dropelem=document.getElementById(t.game.board[e].name+"-drop-card-"+e),t.dragaccept=document.getElementsByClassName(t.game.board[e].name),x()(t.dropelem).dropzone({accept:t.dragaccept,overlap:.75,ondropactivate:function(e){var t=e.relatedTarget;void 0!=t&&t.classList.add("drop-active")},ondropdeactivate:function(e){var t=e.relatedTarget;void 0!=t&&t.classList.remove("drop-active","cannot-drop")},ondragenter:function(e){var t=e.relatedTarget;void 0!=t&&(t.classList.remove("cannot-drop"),t.classList.add("can-drop"))},ondragleave:function(e){var t=e.relatedTarget;void 0!=t&&(t.classList.remove("can-drop"),t.classList.add("cannot-drop"))}});var a=[92,94,96,98,99];for(e=0;e<a.length;e++)t.initialX=0,t.initialY=0,console.log("componentdidmount"),t.dragelem=document.getElementById(t.game.board[a[e]].name+"-"+a[e]),x()(t.dragelem).draggable({onmove:function(e){},modifiers:[x.a.modifiers.restrictRect({restriction:"parent",endOnly:!0})],autoScroll:!0,listeners:{move:t.dragMoveListener}})},this.startGame=function(){t.game.game_state="STARTED",t.socket.emit("start_game",{game_id:t.gameAuthInfo.game_id}),t.initialX=0,t.initialY=0,t.enableDragDropCard(),t.toggle()},this.dragMoveListener=function(e){var a=e.target,n=a.getAttribute("data-x"),r=a.getAttribute("data-y");t.initialX=parseFloat(n)||0,t.initialY=parseFloat(r)||0;var o=e.dx,i=e.dy,s=t.initialX+o,l=t.initialY+i;a.style.transform="translate(".concat(s,"px, ").concat(l,"px)"),a.setAttribute("data-x",s),a.setAttribute("data-y",l)},this.movePlayer=function(){var e=t.playerIndex;t.game.animated_players_move={player:-1,moves:[]};for(var a=0;a<=t.diceSum;)t.game.animated_players_move.moves.push(t.circularAdd(t.game.player_info[e].position,a,39)),a+=1;t.socket.emit("move_player_animation",{game_id:t.gameAuthInfo.game_id,animated_players_move:t.game.animated_players_move});var n=setInterval(function(){Object(ee.n)(function(){t.game.animated_players_move.moves.shift(),0===t.game.animated_players_move.moves.length&&clearInterval(n)})},200);t.game.player_info[e].position=t.circularAdd(t.game.player_info[e].position,t.diceSum,39),t.socket.emit("move",{game_id:t.gameAuthInfo.game_id,new_position:t.game.player_info[e].position,player_index:e})},this.upgradeProperty=function(e){var a=t.playerIndex;t.game.player_info[a].money-=t.game.board[e].upgrade,t.updatePlayerMoney(a),t.game.board[e].upgrades+=1,t.socket.emit("tile_upgrade",{game_id:t.gameAuthInfo.game_id,property_index:e,upgrades:t.game.board[e].upgrades})},this.downgradeProperty=function(e){var a=t.playerIndex;t.game.player_info[a].money+=t.game.board[e].upgrade/2,t.updatePlayerMoney(a),t.game.board[e].upgrades-=1,t.socket.emit("tile_upgrade",{game_id:t.gameAuthInfo.game_id,property_index:e,upgrades:t.game.board[e].upgrades})},this.socketActions=function(){t.socket.on("player_moved",function(e){console.log("player_moved",e),Object(ee.n)(function(){t.game.player_info[e.player].position=e.position})}),t.socket.on("tile_bought",function(e){console.log("tile_bought",e),Object(ee.n)(function(){t.game.player_info[e.player.player_index].money=e.player.player_money,t.game.board[e.tile.tile_index]=e.tile.tile})}),t.socket.on("player_money_updated",function(e){console.log("player_money_updated",e),Object(ee.n)(function(){t.game.player_info[e.player_index].money=e.player_money})}),t.socket.on("turn_ended",function(e){console.log("turn_ended",e),Object(ee.n)(function(){e.next_player===t.playerIndex&&("OUT"===t.game.player_info[t.playerIndex].state?t.endTurn():(t.game.player_info[e.next_player].state="START_TURN",t.game.player_info[e.old_player].state="NOT_TURN",new Notification("Your turn!").onclick=function(){window.focus()}))})}),t.socket.on("sync_player_jail_state_synced",function(e){console.log("sync_player_jail_state_synced",e),Object(ee.n)(function(){t.game.player_info[e.player_index].jail_state=e.jail_state})}),t.socket.on("update_player_jail_rolls_updated",function(e){console.log("update_player_jail_rolls_updated",e),Object(ee.n)(function(){t.game.player_info[e.player_index].jail_turns=e.jail_turns})}),t.socket.on("transaction_processed",function(e){console.log("transaction_processed",e),Object(ee.n)(function(){t.game.player_info[e.giving_player].money=e.giving_player_money,t.game.player_info[e.giving_player].pay_multiplier=1,t.game.player_info[e.receiving_player].money=e.receiving_player_money})}),t.socket.on("players_doubles_updated",function(e){console.log("players_doubles_updated",e),Object(ee.n)(function(){t.game.player_info[e.player_index].doubles_rolled=e.doubles_rolled})}),t.socket.on("dice_roll_updated",function(e){console.log("dice_roll_updated",e),Object(ee.n)(function(){t.game.player_info[e.player_index].dice=e.dice})}),t.socket.on("player_state_synced",function(e){console.log("player_state_synced",e),Object(ee.n)(function(){t.game.player_info[e.player_index].state=e.state})}),t.socket.on("chest_card_increased",function(e){console.log("chest_card_increased",e),Object(ee.n)(function(){t.game.player_info[e.player_index].pay_multiplier=e.pay_multiplier,t.game.last_chest_card=e.last_chest_card})}),t.socket.on("chance_card_increased",function(e){console.log("chance_card_increased",e),Object(ee.n)(function(){t.game.player_info[e.player_index].pay_multiplier=e.pay_multiplier,t.game.last_chance_card=e.last_chance_card})}),t.socket.on("property_mortgaged",function(e){console.log("property_mortgaged",e),Object(ee.n)(function(){t.game.board[e.property_index].mortgaged=e.mortgage_value})}),t.socket.on("tile_upgraded",function(e){console.log("tile_upgraded",e),Object(ee.n)(function(){t.game.board[e.property_index].upgrades=e.upgrades})}),t.socket.on("trade_accepted",function(e){console.log("trade_accepted",e),t.mergeTradeData(e.trade_index),Object(ee.n)(function(){t.game.trades[e.trade_index].state="ACCEPTED"})}),t.socket.on("trade_rejected",function(e){console.log("trade_rejected",e),Object(ee.n)(function(){t.game.trades[e.trade_index].state="REJECTED"})}),t.socket.on("auction_initiated",function(e){console.log("trade_rejected",e),Object(ee.n)(function(){t.game.auction=!0,t.game.auction_tile=e.tile})}),t.socket.on("trade_canceled",function(e){console.log("trade_canceled",e),Object(ee.n)(function(){t.game.trades[e.trade_index].state="CANCELED"})}),t.socket.on("trade_created",function(e){console.log("trade_created",e),Object(ee.n)(function(){t.game.trades.push(e.trade)})}),t.socket.on("log_added",function(e){console.log("log_added",e),Object(ee.n)(function(){t.game.logs.push(e.log)})}),t.socket.on("game_started",function(e){console.log("game_started",e),Object(ee.n)(function(){t.game.game_state="STARTED"})}),t.socket.on("player_gave_up",function(e){console.log("player_gave_up",e),Object(ee.n)(function(){t.game.player_info[e.player_index].state="OUT",t.game.player_info[e.next_player].state="START_TURN",t.game.board=e.new_board})}),t.socket.on("game_ended",function(e){console.log("game_ended",e),Object(ee.n)(function(){t.game.game_state="ENDED"})}),t.socket.on("animated_players_moved",function(e){console.log("animated_players_moved",e),Object(ee.n)(function(){t.game.animated_players_move=e.animated_players_move;var a=setInterval(function(){Object(ee.n)(function(){t.game.animated_players_move.moves.shift(),0===t.game.animated_players_move.moves.length&&clearInterval(a)})},200)})}),t.socket.on("pay_all_players_payed",function(e){console.log("pay_all_players_payed",e),Object(ee.n)(function(){t.game.player_info[e.player_index].money=t.game.player_info[e.player_index].money-e.amount*(t.game.player_info.filter(function(e){return"OUT"!==e.state}).length-1),t.game.player_info.forEach(function(t,a){a!==e.player_index&&(t.money+=e.amount)})})})},this.setGameInfo=function(e){t.game=e},this.setMousedOverTile=function(e){t.mousedOverTile=e},this.clearMousedOverTile=function(){t.mousedOverTile=null},this.rollDice=function(){var e=t.playerIndex;t.game.player_info[e].dice=[Math.floor(Math.random()*Math.floor(6))+1,Math.floor(Math.random()*Math.floor(6))+1],t.socket.emit("update_dice_roll",{game_id:t.gameAuthInfo.game_id,dice:t.game.player_info[e].dice,player_index:e})},this.calcRentCostTile=function(e,a){var n=t.game.board[e];if("rr"===n.type){var r=t.game.board.filter(function(e){return"rr"===e.type&&e.player===n.player}).length;return n.base_rent*Math.pow(2,r-1)}if("property"===n.type){if(n.mortgaged)return 0;var o=0===t.game.board.filter(function(e){return e.group===n.group&&e.player!==n.player}).length,i=t.game.board.filter(function(e){return e.group===n.group}).every(function(e){return!e.mortgaged});return o&&i?n.upgrades>0?n.rent[n.upgrades]:2*n.rent[0]:n.rent[0]}if("utility"===n.type)return 0===t.game.board.filter(function(e){return e.group===n.group&&e.player!==n.player}).length?a?"Dice\xd710":10*t.diceSum:a?"Dice\xd74":4*t.diceSum},this.mortgageProperty=function(e){var a=t.playerIndex;t.game.board[e].mortgaged?(t.game.player_info[a].money-=t.game.board[e].cost/2,t.updatePlayerMoney(a)):(t.game.player_info[a].money+=t.game.board[e].cost/2,t.updatePlayerMoney(a)),t.game.board[e].mortgaged=!t.game.board[e].mortgaged,t.socket.emit("mortgage_property",{game_id:t.gameAuthInfo.game_id,property_index:e,mortgage_value:t.game.board[e].mortgaged})},this.circularAdd=function(e,t,a){return e+t>a?(t-=a-e)-1:e+t},this.setPlayerState=function(e){t.game.player_info[t.playerIndex].state=e},this.setJailState=function(e){t.game.player_info[t.playerIndex].jail_state=e},this.netWorthOfPlayer=function(e){if(!t.game.player_info)return 0;var a=t.game.player_info[e].money;return t.game.board.forEach(function(t){t.owned&&t.player===e&&(a+=t.cost,t.upgrades&&(a+=t.upgrades*t.upgrade))}),a},this.liquidWorthofPlayer=function(e){if(!t.game.player_info)return 0;var a=t.game.player_info[e].money;return t.game.board.forEach(function(t){t.owned&&t.player===e&&(a+=t.cost/2,t.upgrades&&(a+=t.upgrades*(t.upgrade/2)))}),a},this.playersProperties=function(e){var a=t.game.player_info[e];return t.game.board.map(function(e,n){var r=0===t.game.board.filter(function(e){return e.group===t.game.board[n].group&&e.player!==t.game.board[n].player}).length,o=t.game.board.filter(function(e){return e.group===t.game.board[n].group}).every(function(e){return!e.mortgaged}),i=t.game.board.filter(function(e){return e.group===t.game.board[n].group}).every(function(t){return!(e.upgrades>t.upgrades)&&(e.upgrades<t.upgrades||e.upgrades===t.upgrades)}),s=t.game.board.filter(function(e){return e.group===t.game.board[n].group}).every(function(t){return!(e.upgrades<t.upgrades)&&(e.upgrades>t.upgrades||e.upgrades===t.upgrades)}),l=t.game.board.filter(function(e){return e.group===t.game.board[n].group&&e.upgrade&&e.upgrades>0}).length>0,c=i&&r&&o&&t.game.board[n].upgrades<5&&a.money>=t.game.board[n].upgrade,m=s&&r&&o&&t.game.board[n].upgrades>0,p=t.calcRentCostTile(n,!0);return Object(h.a)({},e,{index:n,canUpgrade:c,canDowngrade:m,calculatedRent:p,ownsAll:r,hasHousesOnAny:l})}).filter(function(t){return t.owned&&t.player===e}).sort(function(e,t){return e.group===t.group?e.cost<t.cost?1:-1:e.type===t.type?e.group<t.group?-1:1:e.type<t.type?-1:1})},this.canUpgrade=function(e){var a=0===t.game.board.filter(function(a){return a.group===t.game.board[e].group&&a.player!==t.game.board[e].player}).length,n=t.game.board.filter(function(a){return a.group===t.game.board[e].group}).every(function(e){return!e.mortgaged});return a&&n&&t.game.board[e].upgrades<3&&t.getPlayer.money>=t.game.board[e].upgrade},this.findNextPlayerInGame=function(e){for(var a=e;a<3*t.game.player_info.length;a++){var n=t.game.player_info[(a%t.game.player_info.length+t.game.player_info.length)%t.game.player_info.length];if("OUT"!==n.state&&n.id!==e)return n.id}},this.refreshCurrentProposingTrade=function(){t.currentProposingTrade={moneyGiven:0,moneyTaken:0,givenProperties:[],takenProperties:[]}},this.setCurrentProposingTrade=function(e,a){t.currentProposingTrade[e]=a},this.currentProposingTrade={moneyGiven:0,moneyTaken:0,givenProperties:[],takenProperties:[]},this.socket.on("game_info",function(e){console.log("game info",e),e&&t.setGameInfo(e)}),this.socket.on("reconnect",function(){console.log("reconnecting"),t.connectToGame()}),this.socketActions()}return Object(l.a)(e,[{key:"diceSum",get:function(){return this.getPlayer.dice[0]+this.getPlayer.dice[1]}},{key:"playerTile",get:function(){return this.game.board[this.getPlayer.position]}},{key:"getPlayer",get:function(){return this.game.player_info[this.playerIndex]}},{key:"inGame",get:function(){return!!this.game.player_info&&-1!==this.playerIndex}},{key:"playerState",get:function(){return this.getPlayer.state}},{key:"playerJailState",get:function(){return this.getPlayer.jail_state}},{key:"netWorth",get:function(){var e=this.playerIndex,t=this.getPlayer.money;return this.game.board.forEach(function(a){a.owned&&a.player===e&&(t+=a.cost,a.upgrades&&(t+=a.upgrades*a.upgrade))}),t}},{key:"liquidWorth",get:function(){var e=this.playerIndex,t=this.getPlayer.money;return this.game.board.forEach(function(a){a.owned&&a.player===e&&(t+=a.cost/2,a.upgrades&&(t+=a.upgrades*(a.upgrade/2)))}),t}},{key:"playerIndex",get:function(){var e=this;return this.game.player_info?this.game.player_info.findIndex(function(t){return t.username===e.gameAuthInfo.username}):null}},{key:"currentPlayerTurn",get:function(){return this.game.player_info.find(function(e){return"NOT_TURN"!==e.state&&"OUT"!==e.state})||{}}}]),e}();Object(ee.h)(re,{players:ee.m,game:ee.m,currentProposingTrade:ee.m,mousedOverTile:ee.m,selectedTab:ee.m,gameAuthInfo:ee.m,show:ee.m,diceSum:ee.e,playerState:ee.e,inGame:ee.e,playerJailState:ee.e,getPlayer:ee.e,playerTile:ee.e,netWorth:ee.e,liquidWorth:ee.e,playerIndex:ee.e,currentPlayerTurn:ee.e,rollDice:ee.d,refreshCurrentProposingTrade:ee.d,setCurrentProposingTrade:ee.d,setPlayerState:ee.d,movePlayerToTile:ee.d,checkTile:ee.d,payPercentTax:ee.d,payFlatTax:ee.d,goToJail:ee.d,utilityChanceCardPayment:ee.d,checkAndUpdateDoublesRolled:ee.d,setJailState:ee.d,clearMousedOverTile:ee.d,setMousedOverTile:ee.d,setUsername:ee.d,mortgageProperty:ee.d,setGameInfo:ee.d,createTrade:ee.d,payOutOfJail:ee.d,payLuxuryTax:ee.d,connectedFromNew:ee.d,movePlayerDev:ee.d,movePlayer:ee.d,payPlayer:ee.d,buyTile:ee.d,mergeTradeData:ee.d,acceptTrade:ee.d,addToLog:ee.d,startTurn:ee.d,payAllPlayers:ee.d,endTurn:ee.d,handleModifierCard:ee.d,upgradeProperty:ee.d,giveUp:ee.d,rejectTrade:ee.d,rejectBuyTile:ee.d,cancelTrade:ee.d,setGameAuthInfo:ee.d,downgradeProperty:ee.d,checkIfPlayerPassedGo:ee.d,playerPassedGoMoneyIncrease:ee.d,socketActions:ee.d,connectToGame:ee.d,startGame:ee.d,toggle:ee.d,getState:ee.d});var oe=new re;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(d.a,{store:oe},r.a.createElement(Z.a,null,r.a.createElement(Q,null))),document.getElementById("root")),Notification.requestPermission().then(function(e){}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){},61:function(e,t,a){e.exports=a(110)}},[[61,1,2]]]);
//# sourceMappingURL=main.c2dde869.chunk.js.map